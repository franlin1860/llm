{".class":"MypyFile","_fullname":"torch._inductor.codegen.memory_planning","future_import_flags":["annotations"],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","ALIGN_BYTES":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready","is_inferred","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.ALIGN_BYTES","name":"ALIGN_BYTES","type":"builtins.int"}},"AllocFromPoolLine":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine","name":"AllocFromPoolLine","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":230,"name":"wrapper","type":"torch._inductor.codegen.wrapper.WrapperCodeGen"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":580,"name":"group","type":"torch._inductor.codegen.memory_planning.BufferGroup"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":581,"name":"timestep","type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":592,"name":"is_first_pool_usage","type":"builtins.bool"}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.AllocFromPoolLine","torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","torch._inductor.codegen.wrapper.MemoryPlanningLine","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,1],"arg_names":["self","wrapper","group","timestep","is_first_pool_usage"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,1,1],"arg_names":["self","wrapper","group","timestep","is_first_pool_usage"],"arg_types":["torch._inductor.codegen.memory_planning.AllocFromPoolLine","torch._inductor.codegen.wrapper.WrapperCodeGen","torch._inductor.codegen.memory_planning.BufferGroup",{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]},"builtins.bool"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of AllocFromPoolLine","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"wrapper"},{".class":"LiteralType","fallback":"builtins.str","value":"group"},{".class":"LiteralType","fallback":"builtins.str","value":"timestep"},{".class":"LiteralType","fallback":"builtins.str","value":"is_first_pool_usage"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"codegen":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","code"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine.codegen","name":"codegen","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","code"],"arg_types":["torch._inductor.codegen.memory_planning.AllocFromPoolLine","torch._inductor.utils.IndentedBuffer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"codegen of AllocFromPoolLine","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"is_first_pool_usage":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocFromPoolLine.is_first_pool_usage","name":"is_first_pool_usage","type":"builtins.bool"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"AllocateLine":{".class":"SymbolTableNode","cross_ref":"torch._inductor.codegen.wrapper.AllocateLine","kind":"Gdef"},"Allocation":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.Allocation","name":"Allocation","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":161,"name":"node","type":"torch._inductor.ir.Buffer"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":162,"name":"live_range","type":"torch._inductor.codegen.memory_planning.LiveRange"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":163,"name":"size_hint","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":164,"name":"symbolic_size","type":"sympy.core.expr.Expr"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":165,"name":"allocated","type":"builtins.bool"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":166,"name":"pool","type":{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.AllocationPool",{".class":"NoneType"}]}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":167,"name":"offset","type":{".class":"UnionType","items":["sympy.core.expr.Expr",{".class":"NoneType"}]}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.Allocation","torch._inductor.codegen.memory_planning.AllocationTreeNode","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,1,1,1],"arg_names":["self","node","live_range","size_hint","symbolic_size","allocated","pool","offset"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,1,1,1],"arg_names":["self","node","live_range","size_hint","symbolic_size","allocated","pool","offset"],"arg_types":["torch._inductor.codegen.memory_planning.Allocation","torch._inductor.ir.Buffer","torch._inductor.codegen.memory_planning.LiveRange","builtins.int","sympy.core.expr.Expr","builtins.bool",{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.AllocationPool",{".class":"NoneType"}]},{".class":"UnionType","items":["sympy.core.expr.Expr",{".class":"NoneType"}]}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of Allocation","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"node"},{".class":"LiteralType","fallback":"builtins.str","value":"live_range"},{".class":"LiteralType","fallback":"builtins.str","value":"size_hint"},{".class":"LiteralType","fallback":"builtins.str","value":"symbolic_size"},{".class":"LiteralType","fallback":"builtins.str","value":"allocated"},{".class":"LiteralType","fallback":"builtins.str","value":"pool"},{".class":"LiteralType","fallback":"builtins.str","value":"offset"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.__repr__","name":"__repr__","type":null}},"allocated":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.allocated","name":"allocated","type":"builtins.bool"}},"codegen_alloc_from_pool":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","wrapper"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.codegen_alloc_from_pool","name":"codegen_alloc_from_pool","type":null}},"device":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_property","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.device","name":"device","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.device","name":"device","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.Allocation"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"device of Allocation","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","pool","offset"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.finalize","name":"finalize","type":null}},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.get_live_ranges","name":"get_live_ranges","type":null}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.get_size_hint","name":"get_size_hint","type":null}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.get_symbolic_size","name":"get_symbolic_size","type":null}},"live_range":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.live_range","name":"live_range","type":"torch._inductor.codegen.memory_planning.LiveRange"}},"mark_allocated":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Allocation.mark_allocated","name":"mark_allocated","type":null}},"node":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.node","name":"node","type":"torch._inductor.ir.Buffer"}},"offset":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.offset","name":"offset","type":{".class":"UnionType","items":["sympy.core.expr.Expr",{".class":"NoneType"}]}}},"pool":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.pool","name":"pool","type":{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.AllocationPool",{".class":"NoneType"}]}}},"size_hint":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.size_hint","name":"size_hint","type":"builtins.int"}},"symbolic_size":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Allocation.symbolic_size","name":"symbolic_size","type":"sympy.core.expr.Expr"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"AllocationPool":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.AllocationPool","name":"AllocationPool","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":396,"name":"device","type":"torch._C.device"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":397,"name":"root","type":"torch._inductor.codegen.memory_planning.TemporalSplit"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":398,"name":"can_expand","type":"builtins.bool"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":399,"name":"restrict_live_range","type":{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.LiveRange",{".class":"NoneType"}]}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":400,"name":"name","type":{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}]}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":401,"name":"names_to_del","type":{".class":"Instance","args":["builtins.str"],"type_ref":"builtins.list"}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":402,"name":"creation_cache","type":{".class":"Instance","args":["builtins.str","builtins.str"],"type_ref":"builtins.dict"}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.AllocationPool","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__eq__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":[null,null],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.__eq__","name":"__eq__","type":null}},"__hash__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.__hash__","name":"__hash__","type":null}},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,1,1,1,1],"arg_names":["self","device","root","can_expand","restrict_live_range","name","names_to_del","creation_cache"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,1,1,1,1,1],"arg_names":["self","device","root","can_expand","restrict_live_range","name","names_to_del","creation_cache"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPool","torch._C.device","torch._inductor.codegen.memory_planning.TemporalSplit","builtins.bool",{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.LiveRange",{".class":"NoneType"}]},{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}]},{".class":"Instance","args":["builtins.str"],"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.str","builtins.str"],"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of AllocationPool","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"device"},{".class":"LiteralType","fallback":"builtins.str","value":"root"},{".class":"LiteralType","fallback":"builtins.str","value":"can_expand"},{".class":"LiteralType","fallback":"builtins.str","value":"restrict_live_range"},{".class":"LiteralType","fallback":"builtins.str","value":"name"},{".class":"LiteralType","fallback":"builtins.str","value":"names_to_del"},{".class":"LiteralType","fallback":"builtins.str","value":"creation_cache"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.allocate","name":"allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPool","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"allocate of AllocationPool","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"allocate_at_end":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","block"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.allocate_at_end","name":"allocate_at_end","type":null}},"can_expand":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.can_expand","name":"can_expand","type":"builtins.bool"}},"codegen_create":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","wrapper","code"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.codegen_create","name":"codegen_create","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","wrapper","code"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPool",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"torch._inductor.utils.IndentedBuffer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"codegen_create of AllocationPool","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"codegen_destroy":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","wrapper","code"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.codegen_destroy","name":"codegen_destroy","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","wrapper","code"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPool",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"torch._inductor.utils.IndentedBuffer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"codegen_destroy of AllocationPool","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"creation_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.creation_cache","name":"creation_cache","type":{".class":"Instance","args":["builtins.str","builtins.str"],"type_ref":"builtins.dict"}}},"device":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.device","name":"device","type":"torch._C.device"}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","name"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.finalize","name":"finalize","type":null}},"name":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.name","name":"name","type":{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}]}}},"names_to_del":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.names_to_del","name":"names_to_del","type":{".class":"Instance","args":["builtins.str"],"type_ref":"builtins.list"}}},"restrict_live_range":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.restrict_live_range","name":"restrict_live_range","type":{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.LiveRange",{".class":"NoneType"}]}}},"root":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPool.root","name":"root","type":"torch._inductor.codegen.memory_planning.TemporalSplit"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"AllocationPools":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.AllocationPools","name":"AllocationPools","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":475,"name":"device_to_pools","type":{".class":"Instance","args":["torch._C.device",{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationPool"],"type_ref":"builtins.list"}],"type_ref":"builtins.dict"}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.AllocationPools","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["self","device_to_pools"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["self","device_to_pools"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPools",{".class":"Instance","args":["torch._C.device",{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationPool"],"type_ref":"builtins.list"}],"type_ref":"builtins.dict"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of AllocationPools","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"device_to_pools"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","block"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.allocate","name":"allocate","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","block"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPools","torch._inductor.codegen.memory_planning.Allocation"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"allocate of AllocationPools","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"allocate_output":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","block"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.allocate_output","name":"allocate_output","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","block"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationPools","torch._inductor.codegen.memory_planning.Allocation"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"allocate_output of AllocationPools","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"device_to_pools":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.device_to_pools","name":"device_to_pools","type":{".class":"Instance","args":["torch._C.device",{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationPool"],"type_ref":"builtins.list"}],"type_ref":"builtins.dict"}}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.finalize","name":"finalize","type":null}},"get_pools":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","block"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.get_pools","name":"get_pools","type":null}},"pprint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationPools.pprint","name":"pprint","type":null}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"AllocationTreeNode":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode","name":"AllocationTreeNode","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.AllocationTreeNode","builtins.object"],"names":{".class":"SymbolTable","allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.allocate","name":"allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationTreeNode","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"allocate of AllocationTreeNode","ret_type":"builtins.bool","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","pool","offset"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.finalize","name":"finalize","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","pool","offset"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationTreeNode",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"finalize of AllocationTreeNode","ret_type":"torch._inductor.codegen.memory_planning.AllocationTreeNode","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.get_live_ranges","name":"get_live_ranges","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_live_ranges of AllocationTreeNode","ret_type":"torch._inductor.codegen.memory_planning.LiveRanges","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.get_size_hint","name":"get_size_hint","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_size_hint of AllocationTreeNode","ret_type":"builtins.int","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.get_symbolic_size","name":"get_symbolic_size","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_symbolic_size of AllocationTreeNode","ret_type":"sympy.core.expr.Expr","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"is_empty":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.AllocationTreeNode.is_empty","name":"is_empty","type":null}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"Any":{".class":"SymbolTableNode","cross_ref":"typing.Any","kind":"Gdef"},"BufferGroup":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.BufferGroup","name":"BufferGroup","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.BufferGroup","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","node"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","node"],"arg_types":["torch._inductor.codegen.memory_planning.BufferGroup","torch._inductor.ir.Buffer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of BufferGroup","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.__repr__","name":"__repr__","type":null}},"allocation":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.allocation","name":"allocation","type":{".class":"UnionType","items":["torch._inductor.codegen.memory_planning.Allocation",{".class":"NoneType"}]}}},"is_output":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.is_output","name":"is_output","type":"builtins.bool"}},"live_range":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.live_range","name":"live_range","type":"torch._inductor.codegen.memory_planning.LiveRange"}},"make_allocation":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.make_allocation","name":"make_allocation","type":null}},"names":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.names","name":"names","type":{".class":"Instance","args":["builtins.str"],"type_ref":"builtins.list"}}},"node":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.node","name":"node","type":"torch._inductor.ir.Buffer"}},"sym_nbytes":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.sym_nbytes","name":"sym_nbytes","type":null}},"update_usage":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","timestep"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.BufferGroup.update_usage","name":"update_usage","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","timestep"],"arg_types":["torch._inductor.codegen.memory_planning.BufferGroup","builtins.int"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"update_usage of BufferGroup","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"CachedMethod":{".class":"SymbolTableNode","cross_ref":"torch._inductor.utils.CachedMethod","kind":"Gdef"},"ClearCacheOnAllocateMixin":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[["_allocate",2],["get_live_ranges",1],["get_size_hint",1],["get_symbolic_size",1]],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.MemorySplitProtocol"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","name":"ClearCacheOnAllocateMixin","type_vars":[]},"deletable_attributes":[],"flags":["is_abstract"],"fullname":"torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.MemorySplitProtocol","builtins.object"],"names":{".class":"SymbolTable","allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin.allocate","name":"allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"allocate of ClearCacheOnAllocateMixin","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"clear_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin.clear_cache","name":"clear_cache","type":null}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"DeallocFromPoolLine":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine","name":"DeallocFromPoolLine","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":230,"name":"wrapper","type":"torch._inductor.codegen.wrapper.WrapperCodeGen"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":580,"name":"group","type":"torch._inductor.codegen.memory_planning.BufferGroup"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":581,"name":"timestep","type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":622,"name":"is_last_pool_usage","type":"builtins.bool"}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.DeallocFromPoolLine","torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","torch._inductor.codegen.wrapper.MemoryPlanningLine","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,1],"arg_names":["self","wrapper","group","timestep","is_last_pool_usage"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,1,1],"arg_names":["self","wrapper","group","timestep","is_last_pool_usage"],"arg_types":["torch._inductor.codegen.memory_planning.DeallocFromPoolLine","torch._inductor.codegen.wrapper.WrapperCodeGen","torch._inductor.codegen.memory_planning.BufferGroup",{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]},"builtins.bool"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of DeallocFromPoolLine","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"wrapper"},{".class":"LiteralType","fallback":"builtins.str","value":"group"},{".class":"LiteralType","fallback":"builtins.str","value":"timestep"},{".class":"LiteralType","fallback":"builtins.str","value":"is_last_pool_usage"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"codegen":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","code"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine.codegen","name":"codegen","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","code"],"arg_types":["torch._inductor.codegen.memory_planning.DeallocFromPoolLine","torch._inductor.utils.IndentedBuffer"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"codegen of DeallocFromPoolLine","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"is_last_pool_usage":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.DeallocFromPoolLine.is_last_pool_usage","name":"is_last_pool_usage","type":"builtins.bool"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"Dict":{".class":"SymbolTableNode","cross_ref":"typing.Dict","kind":"Gdef"},"Empty":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.Empty","name":"Empty","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":220,"name":"size_hint","type":"builtins.int"}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.Empty","torch._inductor.codegen.memory_planning.AllocationTreeNode","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Empty.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","size_hint"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","size_hint"],"arg_types":["torch._inductor.codegen.memory_planning.Empty","builtins.int"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of Empty","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.Empty.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"size_hint"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty.get_live_ranges","name":"get_live_ranges","type":null}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty.get_size_hint","name":"get_size_hint","type":null}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty.get_symbolic_size","name":"get_symbolic_size","type":null}},"is_empty":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.Empty.is_empty","name":"is_empty","type":null}},"size_hint":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.Empty.size_hint","name":"size_hint","type":"builtins.int"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"FreeIfNotReusedLine":{".class":"SymbolTableNode","cross_ref":"torch._inductor.codegen.wrapper.FreeIfNotReusedLine","kind":"Gdef"},"IndentedBuffer":{".class":"SymbolTableNode","cross_ref":"torch._inductor.utils.IndentedBuffer","kind":"Gdef"},"Iterable":{".class":"SymbolTableNode","cross_ref":"typing.Iterable","kind":"Gdef"},"List":{".class":"SymbolTableNode","cross_ref":"typing.List","kind":"Gdef"},"LiveRange":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.LiveRange","name":"LiveRange","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRange","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":65,"name":"begin","type":"builtins.float"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":66,"name":"end","type":"builtins.float"}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.LiveRange","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","begin","end"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","begin","end"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRange","builtins.float","builtins.float"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of LiveRange","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__len__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.__len__","name":"__len__","type":null}},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"begin"},{".class":"LiteralType","fallback":"builtins.str","value":"end"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"begin":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.begin","name":"begin","type":"builtins.float"}},"contains":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","other"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.contains","name":"contains","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","other"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRange","torch._inductor.codegen.memory_planning.LiveRange"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"contains of LiveRange","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"end":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.end","name":"end","type":"builtins.float"}},"join":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","other"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRange.join","name":"join","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","other"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRange","torch._inductor.codegen.memory_planning.LiveRange"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"join of LiveRange","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"LiveRanges":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.LiveRanges","name":"LiveRanges","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.LiveRanges","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","ranges"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","ranges"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRanges",{".class":"Instance","args":["torch._inductor.codegen.memory_planning.LiveRange"],"type_ref":"typing.Iterable"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of LiveRanges","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.__repr__","name":"__repr__","type":null}},"begin":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_property","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.begin","name":"begin","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.begin","name":"begin","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRanges"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"begin of LiveRanges","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"end":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_property","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.end","name":"end","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.end","name":"end","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRanges"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"end of LiveRanges","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"overlaps":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","other"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.overlaps","name":"overlaps","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","other"],"arg_types":["torch._inductor.codegen.memory_planning.LiveRanges","torch._inductor.codegen.memory_planning.LiveRanges"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"overlaps of LiveRanges","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"ranges":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.LiveRanges.ranges","name":"ranges","type":{".class":"Instance","args":["torch._inductor.codegen.memory_planning.LiveRange"],"type_ref":"builtins.list"}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"MemoryPlanner":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner","name":"MemoryPlanner","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":637,"name":"wrapper","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":638,"name":"pools","type":"torch._inductor.codegen.memory_planning.AllocationPools"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":639,"name":"buffer_groups","type":{".class":"UnionType","items":[{".class":"Instance","args":["torch._inductor.codegen.memory_planning.BufferGroup"],"type_ref":"builtins.list"},{".class":"NoneType"}]}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.MemoryPlanner","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1],"arg_names":["self","wrapper","pools","buffer_groups"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,1,1],"arg_names":["self","wrapper","pools","buffer_groups"],"arg_types":["torch._inductor.codegen.memory_planning.MemoryPlanner",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"torch._inductor.codegen.memory_planning.AllocationPools",{".class":"UnionType","items":[{".class":"Instance","args":["torch._inductor.codegen.memory_planning.BufferGroup"],"type_ref":"builtins.list"},{".class":"NoneType"}]}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of MemoryPlanner","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"wrapper"},{".class":"LiteralType","fallback":"builtins.str","value":"pools"},{".class":"LiteralType","fallback":"builtins.str","value":"buffer_groups"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"allocate_groups":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.allocate_groups","name":"allocate_groups","type":null}},"buffer_groups":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.buffer_groups","name":"buffer_groups","type":{".class":"UnionType","items":[{".class":"Instance","args":["torch._inductor.codegen.memory_planning.BufferGroup"],"type_ref":"builtins.list"},{".class":"NoneType"}]}}},"compute_buffer_groups":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.compute_buffer_groups","name":"compute_buffer_groups","type":null}},"compute_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.compute_live_ranges","name":"compute_live_ranges","type":null}},"convert_to_pool_lines":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.convert_to_pool_lines","name":"convert_to_pool_lines","type":null}},"drop_removed_buffers":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.drop_removed_buffers","name":"drop_removed_buffers","type":null}},"mark_first_last_usage":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.mark_first_last_usage","name":"mark_first_last_usage","type":null}},"plan":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","lines"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.plan","name":"plan","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","lines"],"arg_types":["torch._inductor.codegen.memory_planning.MemoryPlanner",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"plan of MemoryPlanner","ret_type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"builtins.list"},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"pools":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.pools","name":"pools","type":"torch._inductor.codegen.memory_planning.AllocationPools"}},"wrapper":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.MemoryPlanner.wrapper","name":"wrapper","type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"MemoryPlanningLine":{".class":"SymbolTableNode","cross_ref":"torch._inductor.codegen.wrapper.MemoryPlanningLine","kind":"Gdef"},"MemorySplitProtocol":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[["_allocate",2],["get_live_ranges",1],["get_size_hint",1],["get_symbolic_size",1]],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol","name":"MemorySplitProtocol","type_vars":[]},"deletable_attributes":[],"flags":["is_abstract","is_protocol"],"fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.MemorySplitProtocol","builtins.object"],"names":{".class":"SymbolTable","_allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":2,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":["is_trivial_body"],"fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol._allocate","name":"_allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.MemorySplitProtocol","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"_allocate of MemorySplitProtocol","ret_type":"builtins.bool","type_guard":null,"unpack_kwargs":false,"variables":[]}}},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_abstract_var","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol.get_live_ranges","name":"get_live_ranges","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"torch._inductor.codegen.memory_planning.LiveRanges"],"type_ref":"torch._inductor.utils.CachedMethod"}}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_abstract_var","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol.get_size_hint","name":"get_size_hint","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"builtins.int"],"type_ref":"torch._inductor.utils.CachedMethod"}}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_abstract_var","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.MemorySplitProtocol.get_symbolic_size","name":"get_symbolic_size","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"sympy.core.expr.Expr"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"NullLine":{".class":"SymbolTableNode","cross_ref":"torch._inductor.codegen.wrapper.NullLine","kind":"Gdef"},"Optional":{".class":"SymbolTableNode","cross_ref":"typing.Optional","kind":"Gdef"},"PoolMemoryPlanningLine":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.wrapper.MemoryPlanningLine"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","name":"PoolMemoryPlanningLine","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":230,"name":"wrapper","type":"torch._inductor.codegen.wrapper.WrapperCodeGen"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":580,"name":"group","type":"torch._inductor.codegen.memory_planning.BufferGroup"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":581,"name":"timestep","type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","torch._inductor.codegen.wrapper.MemoryPlanningLine","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1],"arg_names":["self","wrapper","group","timestep"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0,1],"arg_names":["self","wrapper","group","timestep"],"arg_types":["torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine","torch._inductor.codegen.wrapper.WrapperCodeGen","torch._inductor.codegen.memory_planning.BufferGroup",{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of PoolMemoryPlanningLine","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"wrapper"},{".class":"LiteralType","fallback":"builtins.str","value":"group"},{".class":"LiteralType","fallback":"builtins.str","value":"timestep"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"group":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.group","name":"group","type":"torch._inductor.codegen.memory_planning.BufferGroup"}},"node":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_property","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.node","name":"node","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_property","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.node","name":"node","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"node of PoolMemoryPlanningLine","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"timestep":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.PoolMemoryPlanningLine.timestep","name":"timestep","type":{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}]}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"Protocol":{".class":"SymbolTableNode","cross_ref":"typing.Protocol","kind":"Gdef"},"ReuseLine":{".class":"SymbolTableNode","cross_ref":"torch._inductor.codegen.wrapper.ReuseLine","kind":"Gdef"},"SpatialSplit":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.AllocationTreeNode"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.SpatialSplit","name":"SpatialSplit","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":350,"name":"left","type":"torch._inductor.codegen.memory_planning.TemporalSplit"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":351,"name":"right","type":"torch._inductor.codegen.memory_planning.TemporalSplit"}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.SpatialSplit","torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.MemorySplitProtocol","torch._inductor.codegen.memory_planning.AllocationTreeNode","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","left","right"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","left","right"],"arg_types":["torch._inductor.codegen.memory_planning.SpatialSplit","torch._inductor.codegen.memory_planning.TemporalSplit","torch._inductor.codegen.memory_planning.TemporalSplit"],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of SpatialSplit","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"left"},{".class":"LiteralType","fallback":"builtins.str","value":"right"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"_allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit._allocate","name":"_allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.SpatialSplit","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"_allocate of SpatialSplit","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"create":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["left","extra_space"],"dataclass_transform_spec":null,"flags":["is_static","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.create","name":"create","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_staticmethod","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.create","name":"create","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["left","extra_space"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"create of SpatialSplit","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","pool","offset"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.finalize","name":"finalize","type":null}},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_live_ranges","name":"get_live_ranges","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_live_ranges","name":"get_live_ranges","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_size_hint","name":"get_size_hint","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.SpatialSplit"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_size_hint of SpatialSplit","ret_type":"builtins.int","type_guard":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_size_hint","name":"get_size_hint","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"builtins.int"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_symbolic_size","name":"get_symbolic_size","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.SpatialSplit"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_symbolic_size of SpatialSplit","ret_type":"sympy.core.expr.Expr","type_guard":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.get_symbolic_size","name":"get_symbolic_size","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"sympy.core.expr.Expr"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"left":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.left","name":"left","type":"torch._inductor.codegen.memory_planning.TemporalSplit"}},"right":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.SpatialSplit.right","name":"right","type":"torch._inductor.codegen.memory_planning.TemporalSplit"}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"TemporalSplit":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.AllocationTreeNode"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.TemporalSplit","name":"TemporalSplit","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit","has_param_spec_type":false,"metaclass_type":"abc.ABCMeta","metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":271,"name":"allocations","type":{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"type_ref":"builtins.list"}}],"frozen":false},"dataclass_tag":{}},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.TemporalSplit","torch._inductor.codegen.memory_planning.ClearCacheOnAllocateMixin","torch._inductor.codegen.memory_planning.MemorySplitProtocol","torch._inductor.codegen.memory_planning.AllocationTreeNode","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.__dataclass_fields__","name":"__dataclass_fields__","type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"type_ref":"dataclasses.Field"}],"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","allocations"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.__init__","name":"__init__","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","allocations"],"arg_types":["torch._inductor.codegen.memory_planning.TemporalSplit",{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"type_ref":"builtins.list"}],"bound_args":[],"def_extras":{},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"__init__ of TemporalSplit","ret_type":{".class":"NoneType"},"type_guard":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.__match_args__","name":"__match_args__","type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"allocations"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}},"plugin_generated":true},"_allocate":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit._allocate","name":"_allocate","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","block","is_last"],"arg_types":["torch._inductor.codegen.memory_planning.TemporalSplit","torch._inductor.codegen.memory_planning.Allocation","builtins.bool"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"_allocate of TemporalSplit","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"allocations":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.allocations","name":"allocations","type":{".class":"Instance","args":["torch._inductor.codegen.memory_planning.AllocationTreeNode"],"type_ref":"builtins.list"}}},"finalize":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","pool","offset"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.finalize","name":"finalize","type":null}},"get_live_ranges":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_live_ranges","name":"get_live_ranges","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.TemporalSplit"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_live_ranges of TemporalSplit","ret_type":"torch._inductor.codegen.memory_planning.LiveRanges","type_guard":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_live_ranges","name":"get_live_ranges","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"torch._inductor.codegen.memory_planning.LiveRanges"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"get_size_hint":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_size_hint","name":"get_size_hint","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.TemporalSplit"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_size_hint of TemporalSplit","ret_type":"builtins.int","type_guard":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_size_hint","name":"get_size_hint","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"builtins.int"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"get_symbolic_size":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":["is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_symbolic_size","name":"get_symbolic_size","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["torch._inductor.codegen.memory_planning.TemporalSplit"],"bound_args":[],"def_extras":{"first_arg":"self"},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"get_symbolic_size of TemporalSplit","ret_type":"sympy.core.expr.Expr","type_guard":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.get_symbolic_size","name":"get_symbolic_size","type":{".class":"Instance","args":[{".class":"Parameters","arg_kinds":[],"arg_names":[],"arg_types":[],"variables":[]},"sympy.core.expr.Expr"],"type_ref":"torch._inductor.utils.CachedMethod"}}}},"is_empty":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning.TemporalSplit.is_empty","name":"is_empty","type":null}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"V":{".class":"SymbolTableNode","cross_ref":"torch._inductor.virtualized.V","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.codegen.memory_planning.__annotations__","name":"__annotations__","type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.codegen.memory_planning.__doc__","name":"__doc__","type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.codegen.memory_planning.__file__","name":"__file__","type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.codegen.memory_planning.__name__","name":"__name__","type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"torch._inductor.codegen.memory_planning.__package__","name":"__package__","type":"builtins.str"}},"_align":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["nbytes"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning._align","name":"_align","type":null}},"_is_aligned":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["v"],"dataclass_transform_spec":null,"flags":[],"fullname":"torch._inductor.codegen.memory_planning._is_aligned","name":"_is_aligned","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["v"],"arg_types":["sympy.core.expr.Expr"],"bound_args":[],"def_extras":{"first_arg":null},"fallback":"builtins.function","from_concatenate":false,"implicit":false,"is_ellipsis_args":false,"name":"_is_aligned","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}},"align":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["sympy.core.function.Function"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"torch._inductor.codegen.memory_planning.align","name":"align","type_vars":[]},"deletable_attributes":[],"flags":[],"fullname":"torch._inductor.codegen.memory_planning.align","has_param_spec_type":false,"metaclass_type":"sympy.core.function.FunctionClass","metadata":{},"module_name":"torch._inductor.codegen.memory_planning","mro":["torch._inductor.codegen.memory_planning.align","sympy.core.function.Function","sympy.core.function.Application","sympy.core.expr.Expr","sympy.core.basic.Basic","sympy.core._print_helpers.Printable","sympy.core.evalf.EvalfMixin","builtins.object"],"names":{".class":"SymbolTable","eval":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["cls","value"],"dataclass_transform_spec":null,"flags":["is_class","is_decorated"],"fullname":"torch._inductor.codegen.memory_planning.align.eval","name":"eval","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_classmethod","is_ready","is_inferred"],"fullname":"torch._inductor.codegen.memory_planning.align.eval","name":"eval","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["cls","value"],"arg_types":[{".class":"TypeType","item":"torch._inductor.codegen.memory_planning.align"},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"bound_args":[],"def_extras":{"first_arg":"cls"},"fallback":"builtins.function","from_concatenate":false,"implicit":true,"is_ellipsis_args":false,"name":"eval of align","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"unpack_kwargs":false,"variables":[]}}}},"is_integer":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.align.is_integer","name":"is_integer","type":"builtins.bool"}},"nargs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_inferred","has_explicit_value"],"fullname":"torch._inductor.codegen.memory_planning.align.nargs","name":"nargs","type":{".class":"TupleType","implicit":false,"items":["builtins.int"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"type_ref":"builtins.tuple"}}}}},"self_type":null,"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"annotations":{".class":"SymbolTableNode","cross_ref":"__future__.annotations","kind":"Gdef"},"cache_on_self":{".class":"SymbolTableNode","cross_ref":"torch._inductor.utils.cache_on_self","kind":"Gdef"},"collections":{".class":"SymbolTableNode","cross_ref":"collections","kind":"Gdef"},"config":{".class":"SymbolTableNode","cross_ref":"torch._inductor.config","kind":"Gdef"},"dataclasses":{".class":"SymbolTableNode","cross_ref":"dataclasses","kind":"Gdef"},"ir":{".class":"SymbolTableNode","cross_ref":"torch._inductor.ir","kind":"Gdef"},"itertools":{".class":"SymbolTableNode","cross_ref":"itertools","kind":"Gdef"},"pprint":{".class":"SymbolTableNode","cross_ref":"pprint","kind":"Gdef"},"sympy":{".class":"SymbolTableNode","cross_ref":"sympy","kind":"Gdef"},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef"}},"path":"/Library/Frameworks/Python.framework/Versions/3.11/lib/python3.11/site-packages/torch/_inductor/codegen/memory_planning.py"}